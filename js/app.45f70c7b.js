(function(){"use strict";var e={436:function(e,t,a){var l=a(5130),n=a(6768);function o(e,t,a,l,o,u){const r=(0,n.g2)("LayOut");return(0,n.uX)(),(0,n.Wv)(r)}var u=a(4232);const r={class:"main__container"},s={class:"calculation__container"},c={class:"inputs__container"},i={class:"button__container"},p={class:"localStoreDisplay"},v=["innerHTML"],d={class:"info__container"};function m(e,t,a,l,o,m){const g=(0,n.g2)("LayOutInputsLabels");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",s,[(0,n.Lk)("div",c,[(0,n.bF)(g,{modelValue:e.price,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.price=t),t[1]||(t[1]=t=>e.logInputEvent("price",t))],id:"price",placeholder:"Цена"},null,8,["modelValue"]),(0,n.bF)(g,{modelValue:e.quantity,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.quantity=t),t[3]||(t[3]=t=>e.logInputEvent("quantity",t))],id:"quantity",placeholder:"Количество"},null,8,["modelValue"]),(0,n.bF)(g,{modelValue:e.sum,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.sum=t),t[5]||(t[5]=t=>e.logInputEvent("sum",t))],id:"sum",placeholder:"Сумма"},null,8,["modelValue"]),(0,n.Lk)("div",i,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...t)=>e.saveToLocalStorage&&e.saveToLocalStorage(...t))},"Отправить"),(0,n.Lk)("div",p,[(0,n.Lk)("label",{innerHTML:e.jsonDataWithLineBreaks},null,8,v)])])])]),(0,n.Lk)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.events,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.timestamp,class:"event"},(0,u.v_)(e.timestamp)+" - "+(0,u.v_)(e.message),1)))),128))])])}var g=a(144);const f={class:"container"},y=["placeholder"];function S(e,t,a,o,r,s){return(0,n.uX)(),(0,n.CE)("div",f,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.inputValue=t),onInput:t[1]||(t[1]=(...t)=>e.updateValue&&e.updateValue(...t)),placeholder:e.props.placeholder},null,40,y),[[l.Jo,e.inputValue]]),(0,n.Lk)("label",null,(0,u.v_)(e.displayValue?e.displayValue:"0"),1)])}var b=(0,n.pM)({props:{placeholder:String,id:String,modelValue:{type:Number,required:!0}},setup(e,{emit:t}){const a=(0,g.KR)(e.modelValue),l=(0,g.KR)(e.modelValue);let o=null;const u=()=>{o&&clearTimeout(o),a.value=+a.value.toString().replace(/[^\d.]/g,""),o=setTimeout((()=>{l.value=a.value,t("update:modelValue",a.value)}),300)};return(0,n.wB)((()=>e.modelValue),(e=>{a.value=e,l.value=e})),{inputValue:a,updateValue:u,props:e,displayValue:l}},components:{}}),h=a(1241);const V=(0,h.A)(b,[["render",S],["__scopeId","data-v-5faad5f8"]]);var I=V,L=(0,n.pM)({setup(){const e=(0,g.KR)([]);let t=null;const a=(0,g.KR)(0),l=(0,g.KR)(0),o=(0,g.KR)(0);let u=0;const r=(0,g.KR)(""),s=(0,g.KR)(""),c=(0,g.KR)(""),i=(0,g.KR)(""),p=(0,g.Kh)({price:0,quantity:0,sum:0}),v=e=>{p[e]=Date.now()},d=(0,n.EW)((()=>JSON.stringify({price:r.value,qty:s.value,amount:c.value,counter:i.value},null,2))),m=(0,n.EW)((()=>d.value.replace(/\n/g,"<br>").replace(/\s/g,"&nbsp;")));(0,n.wB)([a,l,o],(([e,t,n])=>{const u=Object.keys(p).reduce(((e,t)=>p[e]>p[t]?e:t));"price"===u&&null!==e&&null!==t||"quantity"===u&&null!==e&&null!==t?o.value=parseFloat((e*t).toFixed(2)):"sum"===u&&null!==n&&(null!==e?l.value=parseFloat((n/e).toFixed(2)):null!==t&&(a.value=parseFloat((n/t).toFixed(2))))})),(0,n.sV)((()=>{const e=localStorage.getItem("buttonClickCount");e&&(u=parseInt(e)),a.value=parseFloat(localStorage.getItem("price")),l.value=parseFloat(localStorage.getItem("quantity")),o.value=parseFloat(localStorage.getItem("sum")),S()}));const f=e=>e%2===0,y=()=>{t&&clearTimeout(t),t=setTimeout((()=>{I();let e=!1;f(+o.value)&&(localStorage.setItem("price",a.value.toString()),localStorage.setItem("quantity",l.value.toString()),localStorage.setItem("sum",o.value.toString()),e=!0),b(),V(e?{success:!0}:{success:!1})}),1e3),u+=1,localStorage.setItem("counter",u.toString())},S=()=>{const e=localStorage.getItem("price"),t=localStorage.getItem("quantity"),a=localStorage.getItem("sum"),l=localStorage.getItem("counter");r.value=e??"",s.value=t??"",c.value=a??"",i.value=l??""},b=()=>{S()},h=t=>{const a=(new Date).toISOString();e.value.unshift({timestamp:a,message:t})},V=e=>{S(),h(`Ответ: success: ${e.success} || В localStorage: цена: ${r.value}, количество: ${s.value}, сумма: ${c.value}`)},I=()=>{S(),h(`Кнопка ОТПРАВИТЬ была нажата. Вы отправили: цена: ${a.value}, количество: ${l.value}, сумма: ${o.value} || В localStorage было: цена: ${r.value}, количество: ${s.value}, сумма: ${c.value}`)},L=(e,t)=>{/^\d.+$/.test(t)&&h(`Поле ${e} изменилось: ${t}`),v(e)};return{saveToLocalStorage:y,price:a,quantity:l,sum:o,loadFromLocalStorage:S,logInputEvent:L,events:e,savedPrice:r,savedQuantity:s,savedSum:c,savedCounter:i,jsonDataWithLineBreaks:m}},components:{LayOutInputsLabels:I}});const _=(0,h.A)(L,[["render",m],["__scopeId","data-v-498fe24a"]]);var k=_,O=(0,n.pM)({name:"App",components:{LayOut:k}});const F=(0,h.A)(O,[["render",o]]);var $=F;(0,l.Ef)($).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var u=1/0;for(i=0;i<e.length;i++){l=e[i][0],n=e[i][1],o=e[i][2];for(var r=!0,s=0;s<l.length;s++)(!1&o||u>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(r=!1,o<u&&(u=o));if(r){e.splice(i--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,u=l[0],r=l[1],s=l[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(s)var i=s(a)}for(t&&t(l);c<u.length;c++)o=u[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(i)},l=self["webpackChunktest_task_project"]=self["webpackChunktest_task_project"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(436)}));l=a.O(l)})();
//# sourceMappingURL=app.45f70c7b.js.map